<h1 align="center">VKB Spambot</h1>
<p align="center">
    <img alt="Made with Python" src="https://img.shields.io/badge/Made%20with-Python-%23FFD242?logo=python&logoColor=white"></img>
	<img alt="Python version" src="https://img.shields.io/badge/python-3.10-blue.svg"></img>
</p>

## Подготовка группы
1. [Создайте](https://vk.com/groups?w=groups_create) группу ВК, выбрав тип "Группа по интересам"
2. Перейдите в Управление ><br>
	2.1 Сообщения > Сообщения сообщества: Включены > Сохранить<br>
	2.2 Сообщения > Настройки для бота > Возможности ботов: Включены > Разрешать добавлять сообщество в чаты > Сохранить<br>
	2.3 Настройки > Работа с API > Создать ключ > Выбрать все галочки > Создать, затем его скопировать и отложить его, он понадобится позже<br>
	2.4 Настройки > Работа с API > CallBack API > Версия API 5.131<br>
	2.5 Настройки > Работа с API > CallBack API > Типы событий > Выбрать все галочки<br>
	2.6 Настройки > Работа с API > Long Poll API > Long Poll API: Включено > Версия API 5.131<br>
	2.7 Настройки > Работа с API > Long Poll API > Типы событий > Выбрать все галочки<br>
3. Готово
### Получение токена через сайт, без номера телефона

1. Перейдите на [сайт](https://vkhost.github.io/)
2. Нажмите на "Найстройки >>" > Сообщество > Введите ID группы > Получить
3. Даёте разрешение
4. Копируйте ваш токен в поле после слов access_token=, он начинается на vk1. (на момент написания readme)
5. Готово

## Установка
### Локально
1. Установите [Python](https://www.python.org/downloads/) версии не ниже 3.10. При установке убедитесь, что отметили галочку ![Add Python to PATH](https://sun9-east.userapi.com/sun9-17/s/v1/ig2/QxsAkYeUkCIWkOfZCyELhXQFbAKHiEdGXo4zWEkinzGT3pEtKV72GGs4tm6HnvgyC5Y1McmByppeXFKeX-PEc__Y.jpg?size=181x19&quality=96&type=album)
2. [Скачайте](https://github.com/Cl0ckHvH/VKB_Spambot/archive/refs/heads/main.zip) и распакуйте
3. Откройте командную строку и введите следующую команду:
```sh
pip install -r requirements.txt --upgrade
```
4. Откройте файл `config.py` любым текстовым редактором и настройте бота под себя
5. Для запуска введите в командную строку `bot.py`

## Функционал
### Глобальный
**token** - токен(ы) групп. Вводится таким образом: `token = ['токен']`.<br>Если надо ввести два или больше, то так: `token = ['токен 1', 'токен 2', ... , 'токен n']`<br>
**owner_id** - люди, которые смогут писать /restart. Служит для перезапуска бота. Вводится только цифровой id. Вводится таким образом: `owner_id = ['123', '321']`<br>

### Обязательные параметры для ввода в конфиг
**command** - команда для вызова. Вызов происходит через /. Вводится таким образом: `command = 'something'`<br>
**delay** - задержка перед отправкой следующего сообщения. Вводится таким образом: `delay = 0.33`<br>
**delay_error** - задержка перед отправкой следующего сообщения после ошибки. Вводится таким образом: `delay_error = 10.0`<br>

### Второстепенные команды для ввода в конфиг
**message_counter_limit** - ограничитель на количество сообщений. Отрицательные - спамят бесконечно. По умолчанию стоит -1. Вводится таким образом: `message_counter_limit = 10`<br>
**call_from_id** - ID людей, которые могут вызывать бота. Вводится только цифровой id. По умолчанию ничего не стоит. Вводится таким образом: `call_from_id = ['123', '321']`<br>
**group_id** - ID групп (ботов), которые будут реагировать на эту команду. Вводится только цифровой id. По умолчанию ничего не стоит. Вводится таким образом: `group_id = ['123', '321']`<br>
**any** - `False` - вызывать смогут только из **call_from_id**. `True` - смогут вызывать все. По умолчанию стоит False. Вводится таким образом: `any = True`<br>
**text** - текст сообщения. По умолчанию ничего не стоит. Вводится таким образом: `text = 'something'`<br>
**text_mode** - режим отправляемого текста. 1 - стандартный режим, 2 - режим построчно, 3 - режим обрезки через символ "\\". По умолчанию стоит 1. Со вторым режимом работает так: `text = 'first text/nsecond text'`, сначала отправляет **first text**, затем **second text**. С третьим режимом работает так: `text = 'one\\sec'`, сначала отправляет **one**, затем **sec**. Вводится таким образом: `text_mode = 2`<br>
**random_text** - Случайно отправляет текст из режима текста 2 или 3. `False` - выключен, `True` - включен. По умолчанию стоит False. Вводится таким образом: `any = True`<br>
**attachment** - Отправляет вложения: 'photo' — фото, 'video' — видео, 'audio' — аудио, 'doc' — докумен, 'wall' — пост на стене. Формат подписи такой: <Вложение><Владелец этого вложения>_<id вложения>, пример: **photo514714577_457311228**. По умолчанию ничего не стоит. Вводится таким образом: `attachment = ['photo514714577_457311228', 'photo514714577_56432156']`<br>
**random_attachment** - Случайно отправляет из вписанных вложений. 0 - выключен, 1 - включен. По умолчанию стоит 0. Вводится таким образом: `random_attachment = 1`<br>
**button_mode** - Вид отправляемых кнопок. 1 - стандартный режим, 2 - режим радуги, 3 - режим вируса, 4 - режим из бота "sparta raid", 0 - выключить кнопки.  По умолчанию стоит 0. Вводится таким образом: `button_mode = 1`<br>
**mode1_button_colors** - Цвета кнопкок для режима 1. Сделанно в виде массива (списка). 0 - зелёная, 1 - красная, 2 - синяя, 3 - серая. По умолчанию стоит [0, 1, 2, 3]. Вводится таким образом: `mode1_button_colors = [2, 3, 1, 3]`<br>
**mode1_2_3_buttons_text** - Текст кнопкок для режимов 1, 2 и 3. Сделанно в виде массива (списка). По умолчанию стоит ['Button', 'Button', 'Button', 'Button']. Вводится таким образом: `mode1_2_3_buttons_text = ['12', 'wte', 'fasf', '213']`<br>

**Если attachment и text будут пустыми, то будет отправлять пустой текст**

## Полезные ссылки

[Python 3.10.1 для Windows 7](https://github.com/NulAsh/cpython/releases/tag/v3.10.1win7-1)<br>
[VK Message editor by command](https://github.com/Cl0ckHvH/VKB_Editmessage)<br>
[VK Always stay in conversation](https://github.com/Cl0ckHvH/VKB_AlwaysInConversation)<br>
